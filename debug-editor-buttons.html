<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Editor Buttons</title>
  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="editor.css">
</head>
<body>

<div class="frame">
  <main class="center-content">
    <div class="editor-main-column">
      <div class="editor-header">
        <input type="text" id="postTitle" class="title-input" placeholder="Test...">
      </div>
      
      <div class="editor-main">
        <div id="visualEditor" class="visual-editor" contenteditable="true">Test content</div>
      </div>
    </div>
  </main>
  
  <div class="editor-sidebar">
    <div class="editor-tools-vertical">
      <div class="tool-button" id="keywords-btn">FLAGS</div>
      <div class="tool-button" id="images-btn">IMAGES</div>
      <div class="tool-button" id="export-btn">EXPORT</div>
      <div class="tool-button" id="publish-btn">PUBLISH</div>
    </div>
  </div>
</div>

<div id="debug-info" style="position: fixed; top: 10px; right: 10px; background: white; padding: 10px; border: 1px solid #ccc; max-width: 300px; font-size: 12px;">
  <h4>Debug Info:</h4>
  <div id="debug-output">Loading...</div>
</div>

<script src="console-output.js"></script>
<script src="shared-taskbar.js"></script>
<script src="script.js"></script>

<script>
// Minimal editor object to test buttons
const editor = {
  currentKeywords: 'general',
  
  init() {
    console.log('Debug editor initializing...');
    this.setupEventListeners();
    this.updateDebugInfo();
  },
  
  setupEventListeners() {
    console.log('Setting up event listeners...');
    
    // Test each button
    const buttons = ['keywords-btn', 'export-btn', 'images-btn', 'publish-btn'];
    
    buttons.forEach(buttonId => {
      const button = document.getElementById(buttonId);
      if (button) {
        console.log(`Found button: ${buttonId}`);
        button.addEventListener('click', () => {
          console.log(`${buttonId} clicked!`);
          this.updateDebugInfo(`${buttonId} clicked at ${new Date().toLocaleTimeString()}`);
        });
      } else {
        console.log(`Button not found: ${buttonId}`);
      }
    });
  },
  
  updateDebugInfo(message = '') {
    const output = document.getElementById('debug-output');
    const buttons = ['keywords-btn', 'export-btn', 'images-btn', 'publish-btn'];
    
    let info = `<strong>Editor object exists:</strong> ${typeof editor !== 'undefined'}<br>`;
    info += `<strong>Init called:</strong> Yes<br>`;
    
    buttons.forEach(buttonId => {
      const button = document.getElementById(buttonId);
      info += `<strong>${buttonId}:</strong> ${button ? 'Found' : 'Missing'}<br>`;
    });
    
    if (message) {
      info += `<br><strong>Last action:</strong> ${message}`;
    }
    
    output.innerHTML = info;
  },
  
  // Stub functions to prevent errors
  exportPost() { console.log('exportPost called'); },
  publishPost() { console.log('publishPost called'); },
  toggleImageMagazine() { console.log('toggleImageMagazine called'); },
  showKeywordsInput() { console.log('showKeywordsInput called'); }
};

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  console.log('DOM loaded, initializing debug editor...');
  editor.init();
});
</script>

</body>
</html>
